/**
 * # Sanidate
 *
 * Validation-sanitizing functionality for web frameworks, browsers, and
 * you-name-it.
 *
 * @author Monwara LLC / Branko Vukelic <branko@brankovukeluc.com>
 * @version 0.0.7
 * @license MIT
 */void 0,function(e,t){typeof define=="function"&&define.amd?define([],t):typeof module=="object"&&module.exports?module.exports=t():e.sanidate=t()}(this,function(){function r(e){var t=/\d+/g,n="";while(match=t.exec(e))n+=match[0];return n}function i(e){return e=r(e),"("+e.slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6)}var e={},t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=/^\(?\d{3}\)? ?\d{3}-?\d{4}$/;return e.funcs={required:function(){return function(e,t){t(null,e?e:null,"required")}},"enum":function(e){return function(t,n){n(null,e.indexOf(t)>-1?t:null,"enum")}},match:function(e){return function(t,n){n(null,e.exec(t)?t:null,"match")}},numeric:function(){return function(e,t){var n=parseFloat(e);t(null,isNaN(n)?null:n,"numeric")}},integer:function(){return function(e,t){var n=parseInt(e,10);t(null,isNaN(n)?null:n,"integer")}},min:function(e,t,n){return function(r,i){var s=t?parseInt(r,10):parseFloat(r);i(null,!isNaN(s)&&(n?s>=e:s>e)?s:null,"min")}},max:function(e,t,n){return function(r,i){var s=t?parseInt(r,10):parseFloat(r);i(null,!isNaN(s)&&(n?s<=e:s<e)?s:null,"min")}},date:function(){return function(e,t){var n=new Date(e);t(null,n.toString()!=="Invalid Date"?n:null,"date")}},email:function(){return function(e,n){n(null,t.exec(e)?e:null,"email")}},zip:function(){return function(e,t){t(null,/^\d{5}$/.exec(e)?e:null,"zip")}},isTrue:function(){return function(e,t){t(null,"true yes 1 on".split(" ").indexOf(e)>-1,"isTrue")}},isNotFalse:function(){return function(e,t){t(null,"false no 0 off".split(" ").indexOf(e)<0,"isFalse")}},phone:function(e){return function(t,s){s(null,n.exec(t)?e?r(t):i(t):null,"phone")}},isDocument:function(e,t){return t=t||this.name,function(n,r){var i={};i[t]=n,e.findOne(i,function(e,t){e&&r(e,null,"isDocument"),r(null,t||null,"isDocument")})}},isNotDocument:function(e,t){return t=t||this.name,function(n,r){var i={};i[t]=n,e.findOne(i,function(e,t){e&&r(e,null,"isNotDocument"),r(null,t?null:n,"isNotDocument")})}},custom:function(e){var t=this;return function(n,r){e.call(t,n,r)}},optional:function(e){return function(t,n){n(null,t?t:typeof e=="function"?e():e,t?"optional":null)}},derive:function(e,t){var n=this.originalData[e];return function(e,r){r(null,t(e,n),"derive")}}},e.checkParam=function(t,n,r,i,s){function u(e,t,n){if(!e.length)return n(null,t);e[0](t,function(t,r,i,s){if(t)return n(t,null,i);if(i===null)return n(null,r);if(r===null)return n(null,null,i);u(e.slice(1),r,n)})}var o={name:t,originalValue:n,originalData:i};typeof r=="string"&&(r=[r]),r=r.map(function(t){var n,r;typeof t=="string"?(n=e.funcs[t],r=[]):(n=e.funcs[t[0]],r=t.slice(1));if(typeof n!="function")throw new Error("Constraint "+t+" is not a function "+"for param "+parameterName);return n.apply(o,r)}),u(r,n,s)},e.check=function(t,n,r,i){typeof r=="function"&&(i=r,r=!1);var s={},o={count:0,errors:{}},u=Object.keys(n).length;Object.keys(n).forEach(function(a){e.checkParam(a,t[a],n[a],t,function(e,t,n){if(e||t===null)o.count+=1,o.errors[a]=n;else if(!r||typeof t!="undefined"&&t!==null)s[a]=t;u--,u||(o.count||(o=null),i(o,s))})})},e.express=function(t,n){return n=typeof n=="boolean"?n:!1,function(r,i,s){r.sanidateFuncs=e.funcs,r.sanidate=e.check;if(t){var o={};Object.keys(t).forEach(function(e){o[e]=r.param(e)}),e.check(o,t,n,function(e,t){r.data=t,e.count&&(r.dataErrors=e),s()})}else s()}},e.frag=function(t){return function(t){this.sanidateFuncs=e.funcs,this.sanidate=e.check}},e.jQuery=function(t){t.fn.sanidate=function(n,r){var i=t(this),s={};Object.keys(n).forEach(function(e){s[e]=i.find(":input[name="+e+"]").val()}),e.check(s,n,r)}},typeof jQuery=="function"&&jQuery.fn&&e.jQuery(jQuery),e});